<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قائمة الموظفين - HR Dashboard</title>
    
    <!-- /* ================= START Favicons, Fonts, Libraries ================= */ -->
    <link rel="icon" href="../assets/images/LOGO.png"  />
    <link href="../assets/bootstrap/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/CSS/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
    
    <!-- /* ================= START Custom CSS ================= */ -->
    <link rel="stylesheet" href="../assets/CSS/employee.css">
    <link rel="stylesheet" href="../assets/CSS/style.css">

    
</head>
<body>
     <!-- Backdrop for mobile sidebar -->
     <div class="sidebar-backdrop"></div>
     <div class="dashboard-container">
   
   <!-- /* ================= START Mini Sidebar ================= */ -->
   <aside class="mini-sidebar">
    <a href="../index.html" class="mini-logo active">
      <img src="../assets/images/HRlogo.png" alt="Logo" />
    </a>
    
    <ul class="mini-nav">
      <li>
        <a href="#" id="open-search" title="بحث">
          <i class="fas fa-search"></i>
        </a>
      </li>
              <li><a href="https://spl-pro.com/calender/public/login" title="التقويم"><i class="fas fa-calendar-alt"></i></a></li>
      <li>
        <a href="tel:+966561666795" title="اتصل بنا">
          <i class="fas fa-address-book"></i>
        </a>
      </li>        <li>
        <a href="mailto:info@spl-pro.com" title="الرسائل">
          <i class="fas fa-comment-dots"></i>
        </a>
      </li>
              <li><a href="#" title="الملفات"><i class="fas fa-folder"></i></a></li>
    </ul>
    <div class="mini-sidebar-footer">
              <!-- زرار التوجل -->
      <div class="mini-sidebar-toggle">
          <button id="toggleMainSidebar" class="toggle-btn">
          <i class="fas fa-angle-double-left"></i>
          </button>
      </div>
      <a href="../pages/settings.html" title="الإعدادات"><i class="fas fa-cog p-3"></i></a>
      <a href="#" title="ملف شخصي">
        <img src="../assets/images/profile.jpg" alt="User" class="mini-profile-img" />
      </a>
      
    </div>
  </aside>
     <!-- /* ================= START Main Sidebar ================= */ -->
     <div class="sidebar-backdrop"></div>
   <div class="dashboard-container">
     <aside class="main-sidebar">
       <div class="sidebar-header"><h2 class="logoName">HRZoon</h2></div>
       <div class="sidebar-profile"><h3>أحمد هارون</h3><h4>المدير العام</h4></div>
       <nav class="sidebar-nav">
         <ul class="nav-list">
          <li class="nav-item">
            <a href="../index.html"><i class="fas fa-tachometer-alt"></i><span>الرئيسية</span></a>
          </li>
           <li class="nav-item has-submenu open active">
             <a href="#"><i class="fas fa-users"></i><span>الموظفين</span><i class="fas fa-chevron-left arrow"></i></a>
             <ul class="submenu" style="max-height: 500px;">
               <li class="active"><a href="./employee.html">قائمة الموظفين</a></li>
               <li><a href="./AddEmployee.html">موظف جديد</a></li>
               <li><a href="./ImportExcel.html">استيراد Excel</a></li>
               <li><a href="./WorkTimes.html">أوقات العمل</a></li>
             </ul>
           </li>
         </ul>
       </nav>
     </aside>

    <!-- /* ================= START Main Content ================= */ -->
    <main class="main-content">
      <header class="main-header">
        <div class="header-left"><button id="sidebarToggle" class="header-icon mobile-menu-btn"><i class="fas fa-bars"></i></button><div class="header-title">قائمة الموظفين</div></div>
        <div class="header-right"> ... </div>
      </header>

      <div class="table-main-card" data-aos="fade-up">
          <div class="table-header">
              <div class="header-actions"><button class="action-btn" id="filter-btn"><i class="fas fa-sort-amount-down"></i> تصنيف</button></div>
              <div class="search-bar"><i class="fas fa-search"></i><input type="text" id="search-input" placeholder="ابحث عن موظف..."></div>
              <div class="header-actions"><button class="action-btn"><i class="fas fa-print"></i> طباعة</button><button class="action-btn"><i class="fas fa-download"></i> تصدير</button></div>
          </div>

          <div class="table-responsive">
              <table class="table employees-table">
                  <thead>
                      <tr>
                          <th>الإسم</th>
                          <th>الحالة</th>
                          <th>المسمى الوظيفي</th>
                          <th>الموقع</th>
                          <th>القسم</th>
                          <th>التحكم</th>
                      </tr>
                  </thead>
                  <tbody id="employees-table-body">
                      <tr data-status="نشط">
                          <td><div class="employee-avatar"><img src="../assets/images/profile.jpg" alt="Avatar"><span>ملاك مبارك السويداني</span></div></td>
                          <td><span class="status-tag tag-active">نشط</span></td>
                          <td>مهندس معماري</td>
                          <td>الرياض - المكتب</td>
                          <td>قسم المالية</td>
                          <td class="control-cell"><button class="btn-table-control circle-btn control-toggle"><i class="fas fa-ellipsis-h"></i></button><div class="control-dropdown"><a href="#">عرض الملف</a><a href="#">تعديل</a><a href="#" class="text-danger">حذف</a></div></td>
                      </tr>
                      <tr data-status="غير نشط">
                          <td><div class="employee-avatar"><img src="../assets/images/profile.jpg" alt="Avatar"><span>فاطمة خالد المصري</span></div></td>
                          <td><span class="status-tag tag-inactive">غير نشط</span></td>
                          <td>مسؤول فرع المدينة</td>
                          <td>مصنع البلوك رماح</td>
                          <td>قسم المالية</td>
                          <td class="control-cell"><button class="btn-table-control circle-btn control-toggle"><i class="fas fa-ellipsis-h"></i></button><div class="control-dropdown"><a href="#">عرض الملف</a><a href="#">تعديل</a><a href="#" class="text-danger">حذف</a></div></td>
                      </tr>
                      <tr data-status="نشط">
                        <td><div class="employee-avatar"><img src="../assets/images/profile.jpg" alt="Avatar"><span>ملاك مبارك السويداني</span></div></td>
                        <td><span class="status-tag tag-active">نشط</span></td>
                        <td>مهندس معماري</td>
                        <td>الرياض - المكتب</td>
                        <td>قسم المالية</td>
                        <td class="control-cell"><button class="btn-table-control circle-btn control-toggle"><i class="fas fa-ellipsis-h"></i></button><div class="control-dropdown"><a href="#">عرض الملف</a><a href="#">تعديل</a><a href="#" class="text-danger">حذف</a></div></td>
                    </tr>
                    <tr data-status="غير نشط">
                        <td><div class="employee-avatar"><img src="../assets/images/profile.jpg" alt="Avatar"><span>فاطمة خالد المصري</span></div></td>
                        <td><span class="status-tag tag-inactive">غير نشط</span></td>
                        <td>مسؤول فرع المدينة</td>
                        <td>مصنع البلوك رماح</td>
                        <td>قسم المالية</td>
                        <td class="control-cell"><button class="btn-table-control circle-btn control-toggle"><i class="fas fa-ellipsis-h"></i></button><div class="control-dropdown"><a href="#">عرض الملف</a><a href="#">تعديل</a><a href="#" class="text-danger">حذف</a></div></td>
                    </tr>
                    <tr data-status="نشط">
                      <td><div class="employee-avatar"><img src="../assets/images/profile.jpg" alt="Avatar"><span>ملاك مبارك السويداني</span></div></td>
                      <td><span class="status-tag tag-active">نشط</span></td>
                      <td>مهندس معماري</td>
                      <td>الرياض - المكتب</td>
                      <td>قسم المالية</td>
                      <td class="control-cell"><button class="btn-table-control circle-btn control-toggle"><i class="fas fa-ellipsis-h"></i></button><div class="control-dropdown"><a href="#">عرض الملف</a><a href="#">تعديل</a><a href="#" class="text-danger">حذف</a></div></td>
                  </tr>
                  <tr data-status="غير نشط">
                      <td><div class="employee-avatar"><img src="../assets/images/profile.jpg" alt="Avatar"><span>فاطمة خالد المصري</span></div></td>
                      <td><span class="status-tag tag-inactive">غير نشط</span></td>
                      <td>مسؤول فرع المدينة</td>
                      <td>مصنع البلوك رماح</td>
                      <td>قسم المالية</td>
                      <td class="control-cell"><button class="btn-table-control circle-btn control-toggle"><i class="fas fa-ellipsis-h"></i></button><div class="control-dropdown"><a href="#">عرض الملف</a><a href="#">تعديل</a><a href="#" class="text-danger">حذف</a></div></td>
                  </tr>
                  </tbody>
              </table>
          </div>
          <nav class="table-pagination"> ... </nav>
      </div>
    </main>
  </div>
  
  <!-- MODAL for Filters -->
  <div class="modal-overlay" id="filter-modal">
      <div class="modal-container">
          <div class="modal-header"><h5 class="modal-title">فلاتر متقدمة</h5><button class="btn-close-modal" id="close-filter-modal"><i class="fas fa-times"></i></button></div>
          <div class="modal-body">
              <div class="mb-3"><label class="form-label">الحالة</label><select class="form-select"><option value="">الكل</option><option value="نشط">نشط</option><option value="غير نشط">غير نشط</option></select></div>
              <div class="mb-3"><label class="form-label">القسم</label><select class="form-select"><option value="">الكل</option><option value="قسم المالية">قسم المالية</option><option value="قسم الحسابات">قسم الحسابات</option></select></div>
          </div>
      </div>
  </div>

  <!-- /* ================= START Scripts ================= */ -->
  <script src="../assets/bootstrap/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="../assets/JS/script.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function ( ) {
        AOS.init({ duration: 600, once: true });

        // --- عناصر الواجهة ---
        const searchInput = document.getElementById('search-input');
        const tableBody = document.getElementById('employees-table-body');
        const allRows = tableBody.querySelectorAll('tr');
        const filterBtn = document.getElementById('filter-btn');
        const filterModal = document.getElementById('filter-modal');
        const closeFilterModalBtn = document.getElementById('close-filter-modal');

        // --- البحث المباشر ---
        searchInput.addEventListener('keyup', () => {
            const searchTerm = searchInput.value.toLowerCase();
            allRows.forEach(row => {
                const name = row.querySelector('.employee-avatar span').textContent.toLowerCase();
                row.style.display = name.includes(searchTerm) ? '' : 'none';
            });
        });

        // --- مودال الفلاتر ---
        filterBtn.addEventListener('click', () => filterModal.classList.add('active'));
        closeFilterModalBtn.addEventListener('click', () => filterModal.classList.remove('active'));
        filterModal.addEventListener('click', (e) => { if(e.target === filterModal) filterModal.classList.remove('active'); });

        // --- قائمة التحكم المنسدلة ---
        document.addEventListener('click', (e) => {
            const isDropdownButton = e.target.matches('.control-toggle, .control-toggle *');
            if (!isDropdownButton && e.target.closest('.control-dropdown') === null) {
                document.querySelectorAll('.control-dropdown.show').forEach(d => d.classList.remove('show'));
                return;
            }
            if (isDropdownButton) {
                const dropdown = e.target.closest('.control-cell').querySelector('.control-dropdown');
                const wasOpen = dropdown.classList.contains('show');
                document.querySelectorAll('.control-dropdown.show').forEach(d => d.classList.remove('show'));
                if (!wasOpen) dropdown.classList.toggle('show');
            }
        });
    });
  </script>
</body>
</html>
